{% extends "base.html" %}
{% load static %}


{% block content %}
<!-- Blog Section -->
<section class="bg-light">
    <div class="container">
        <h1 class="text-center contact-heading">Blog</h1>
        {% for post in object_list %}
        {% if post.author.first_name|length > 0 %}
        <h2 class="text-center text-info pb-2"><a href="{% url 'blog-detail' post.pk %}"
                class="contact-fields">{{ post.title }} - {{ post.created_date }}</a></h2>
        <p class="text-justify">{{ post.body|truncatewords:100|safe }} <a href="{% url 'blog-detail' post.pk %}"
                class="text-info">Read full blog</a></p>
        <small class="font-italic font-weight-bold text-success d-block">Category: <a href="" class="text-success">{{ post.category }}</a></small>
        <small class="font-italic text-info">Authored By: {{ post.author.first_name }} {{ post.author.last_name }}
            (Administrator Account)</small>
        <div class="pt-2">
            {% if request.user.is_superuser %}
            <a class="btn btn-info" href="{% url 'edit-blog' post.pk %}" role="button">Edit</a>
            <a class="btn btn-danger" href="{% url 'delete-blog' post.pk %}" role="button">Delete</a>
            {% endif %}
        </div>
        <hr>
        {% else %}
        <h2 class="text-center"><a href="{% url 'blog-detail' post.pk %}" class="contact-fields">{{ post.title }} - {{ post.created_date }}</a>
        </h2>
        <p class="text-justify">{{ post.body|truncatewords:100|safe }}<a href="{% url 'blog-detail' post.pk %}"
                class="text-info">Read full blog</a></p>
        <small class="font-italic font-weight-bold text-success d-block">Category: <a href="" class="text-success">{{ post.category }}</a></small>
        <small class="font-italic text-info">Authored By: {{ post.author|title }} </small>
        <div class="pt-2">
            {% if request.user.is_superuser %}
            <a class="btn btn-info" href="{% url 'edit-blog' post.pk %}" role="button">Edit</a>
            <a class="btn btn-danger" href="{% url 'delete-blog' post.pk %}" role="button">Delete</a>
            {% endif %}
        </div>
        <hr>
        {% endif %}
        {% endfor %}
    </div>
</section>
{% endblock %}